%!TEX root = ../main.tex

\chapter{Measure Theory} % (fold)
\label{cha:measure_theory}
\thispagestyle{empty}

\section{Measure spaces} % (fold)
\label{sec:measure_spaces}

Let $X$ be a set.

\begin{defn}[$\sigma$-algebras]$\\$
A family $\Mdu \subset \Peu (x)$ is called a $\sigma$-algebra if 
\begin{enumerate}
    \item[i)] $\emptyset \in \Mdu$
    \item[ii)] $ E \subset \Mdu \ \Longrightarrow \ E^c  = X\setminus E \in \Mdu$
    \item[iii)] $\gr{E_n}_{n \in \mathbb{N}} \subset \Mdu \Longrightarrow \bigcup_{n=1}^{\infty} E_n \in \Mdu $ (infinite countable union)
\end{enumerate}
If (iii) is replaced by "$E_1, E_2 \in \Mdu \Longrightarrow E_1 \bigcup E_2 \in \Mdu$" then $\Mdu$ is just an algebra (finite union).
\end{defn}

Trivial examples: $\Mdu=\Peu(X)$ is the biggest $\sigma$-algebra, $\Mdu=\gr{\varnothing,X}$ is the smallest $\sigma$-algebra.

We say that
\begin{itemize}
    \item $\Mdu$ $\sigma$-algebra $\leadsto$ $(X,\Mdu)$ is a \textbf{measurable space}
    \item $E\in\Mdu$ are \textbf{measurable sets}
\end{itemize}

Basic properties of $\Mdu$:
\begin{enumerate}
    \item $X=\varnothing^c\in\Mdu$ (by (i)+(ii))
    \item $\Mdu$ is an algebra ($\sigma$-alg. $\Longrightarrow$ alg. but not the viceversa)

    To prove this you can take a finite union (e.g. $E_1\cup E_2$) and then make infinite unions with $\varnothing$ to have an infinite union that still belongs to $\Mdu$:
    \begin{equation*}
        E_1\cup E_2=\underbracket[0.5pt]{E_1\cup E_2\underbracket[0.5pt]{\cup\varnothing\cup ... \cup\varnothing\cup...}_{\in\Mdu\text{ by (i)}}}_{\in\Mdu\text{ by (iii)}}
    \end{equation*}

    \item $\gr{E_n}_n\subset\Mdu\Longrightarrow \bigcap_{n\in\NN} E_n\in\Mdu$
    \item $E,F\in\Mdu\Longrightarrow E\setminus F \in \Mdu$
\end{enumerate}

Now, we want to understand how to generate a $\sigma$-algebra.

\begin{thm}
    Take $\Seu\subset\Peu(X)$ any family. Then it is well defined $\sigma_0(\Seu)$, the $\sigma$-algebra generated by $\Seu$ (the smallest $\sigma$-algebra containing $\Seu$):
    \begin{itemize}
        \item[i)] $\sigma_0(\Seu)$ is a $\sigma$-algebra
        \item[ii)] $\Seu\subset\sigma_0(\Seu)$
        \item[iii)] if $\Mdu$ is a $\sigma$-alg. and $\Seu\subset\Mdu$ then $\sigma_0(\Seu)\subset\Mdu$
    \end{itemize}
\end{thm}

\begin{proof}[Sketch]$\\$
We introduce a collection of collection of sets (we should be more strict: without knowing axiom choices we cannot properly prove this theorem, all we currently need is how to construct these $\sigma$-algebras):
\begin{equation*}
    \Vc=\left\{\Mdu\subset\Peu(X)\,:\,\Mdu\text{ is a }\sigma\text{-alg. and }\Seu\subset\Mdu  \right\}
\end{equation*}
(notice that $\Vc$ is not empty since $\Peu(X)\in\Vc$)

Then $\sigma_0(\Seu)=\bigcap\gr{\Mdu\,:\,\Mdu\in\Vc}$ (to generate the smallest take the intersection of all).
\end{proof}

% section measure_spaces (end)

\section{Borel sets} % (fold)
\label{sec:borel_sets}

We now want to define between measurable and open sets, we do this by constructing the borel $\sigma$-algebra.

\begin{defn}[Borel $\sigma$-algebras and Borel sets]$\\$
    Let $(X,d)$ be a metric space, so that open subsets of $X$ are defined (a topological space is enough) and let $\Teu = \gr{E\subset X\,: \,E \text{ is open}}$. The $\sigma$-algebra generated by $\Teu$, $\sigma_0(\Teu)$, is the Borel $\sigma$-algebra of $X$, and we write $\Bdu (X) = \sigma_0(\Teu)$. 

    Furthermore, any $E\in \Bdu (X)$ is a Borel (measurable) set.
\end{defn}

All the followings are Borel sets:
\begin{itemize}
    \item all open sets
    \item all closed sets (because the $\sigma$-algebra is closed under complements, and the complements of open sets are naturally closed sets)
    \item all countable intersections of open sets (G$\delta$-sets)  
    \item All countable unions of closed sets (F$\sigma$-sets)  
\end{itemize}

We will deal with two main cases:
\begin{itemize}
    \item real numbers $X=\mathbb{R}=(-\infty,+\infty)$
    \item \textit{extended} real numbers $X=\overline{\mathbb{R}} = [-\infty,\infty]$ 
\end{itemize}

\begin{subtle}
Defining a measure in $\overline{\mathbb{R}}$ isn't trivial, we therefore define how to extend the following operations to $\overline{\mathbb{R}}$.

\textbf{Operations}: let $a\in \mathbb{R}$. Then:
\begin{itemize}
    \item $a>0\ \Longrightarrow\ a\cdot \pm \infty = \pm \infty$
    \item $a<0\ \Longrightarrow\ a\cdot \mp \infty = \pm \infty$
    \item $a\pm \infty = \pm \infty$
    \item $0\cdot \pm \infty = 0$ (note that we are not taking any limits in this assumption, we define it this way because we want the zero function to have a null integral in an unbounded interval)
    \item $+\infty -\infty$ is not defined
\end{itemize}

\textbf{Open intervals}: let $a,b\in\RR$, $a<b$. Then:
\begin{itemize}
    \item $(a,b)$ is open
    \item $[-\infty , b)$ is open
    \item $(a,+\infty ]$ is open
\end{itemize}
\end{subtle}

\newpage

We will deal with $\Bdu(\mathbb{R}) \text{ and }  \Bdu\left(\overline{\mathbb{R}}\right)$.

\begin{marker}
Note that
\begin{align}
        \Bdu(\mathbb{R}) :&= \sigma_0 \left( \gr{\text{open sets}} \right) \nonumber \\
        &=\sigma_0 \left( \gr{\text{open intervals}} \right) \nonumber \\
        &=\sigma_0 \left( \gr{(a,+\infty)}\right) \label{borel_def_3}
\end{align}
This means we can get open sets and open intervals by taking complements, unions and intersections, starting from sets in the form of (\ref{borel_def_3}). This is very useful for proving properties of open intervals and sets. \\
The properties are generally proven more easily when the set of generators is smaller.

Moreover:
    \begin{align*}
        \Bdu(\mathbb{\overline{R}}) :&= \sigma_0 \left( \gr{\text{open sets}} \right) \\
        &=\sigma_0 \left( \gr{(a,+\infty)}\right) \\
        \Bdu(\mathbb{R}^n) :&= \sigma_0 \left( \gr{\text{open rectangles}} \right) \\
        &=\sigma_0 \left( \gr{\text{closed rectangles}} \right)
    \end{align*}
\end{marker}

% section borel_sets (end)

\section{Measures} % (fold)
\label{sec:measures}

Let $(X,\Mdu)$ be a measurable space.

\begin{defn}[Measure]$\\$
A measure on $\Mdu$ is a function 
\begin{equation*}
\mu : \Mdu \longrightarrow [0,+\infty] \quad \text{s.t.} \quad
{\renewcommand*{\arraystretch}{2.5}
\begin{array}{ll}
 \text{i)} & \mu(\varnothing) = 0 \\
 \text{ii)} & \gr{E_n}_n \subset \Mdu \text{ disjoint }\Longrightarrow\ \mu\displaystyle \left( \bigcup_{n\in \NN} E_n \right) = \sum_{n\in \NN} \mu \bigl( E_n\bigr)\qquad (\sigma\text{-additivity})
\end{array}}
\end{equation*}
\end{defn}

\begin{defn}[Measure space]$\\$
Take $X,\Mdu,\mu$ as above. Then $ (X,\Mdu,\mu)$ is a measure space.

In particular:
\begin{itemize}
    \item if $\mu(X)=1$ then $ (X,\Mdu,\mu)$ is a probability space and $\mu$ is a probability measure

    \item if $\mu(X)<+\infty$ then $\mu$ is a finite measure

    \item if $\exists \gr{E_n}_n\, :\, \mu \bigl( E_n \bigr) < +\infty $ and $ X = \displaystyle\bigcup_n E_n$ then $\mu$ is a $\sigma$-finite measure
\end{itemize}
\end{defn}

Some examples:
\begin{enumerate}
    \item[1)] for any $(X,\Mdu)$\ $\longrightarrow$ \ $\mu \bigl( E \bigr) = 0 \ \ \forall E\quad$ is the \emph{trivial measure}

    \item[2)] for any $(X,\Mdu )\  \longrightarrow$ \begin{tabular}[t]{@{}l@{}}
        $\begin{cases}
            \mu(E)=+\infty, &\ \forall E\neq\varnothing \\
            \mu(\varnothing)=0
        \end{cases}\quad$
        \end{tabular} is a measure

    \item[3)] for $(X,\Peu (X) )\  \longrightarrow$ \begin{tabular}[t]{@{}l@{}}
        $\mu_{\#}(E)  =
        \begin{cases}
            \# \gr{\text{elements of } E}, &\text{ if } E\text{ is finite} \\
            +\infty, &\ \text{otherwise}
        \end{cases}\quad$
    \end{tabular} is the \emph{counting measure}
    
    \item[4)] for $(X,\Peu (X) )$ with $X$ nonempty, pick $x_0 \in X \ \longrightarrow$ \begin{tabular}[t]{@{}l@{}}
        $\delta_{x_0}(E)  =$
        $\begin{cases}
            1, &\text{ if } x_0 \in X  \\
            0, & \text{ otherwise}
        \end{cases}\quad$
    \end{tabular} is the \emph{Dirac measure}
\end{enumerate}

% section measures (end)

% chapter measure_theory (end)




